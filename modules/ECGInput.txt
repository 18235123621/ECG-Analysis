ECGInput
========

Moduł do ładowania/zapisywania sygnałów EKG z bazy PhysioBank oraz z/do plików CSV. Do poporawnej pracy wymagana jest bibloteka WFDB i wchodzące w jej skład programy rdsamp i wfdbdesc. Więcej o nich pod http://www.physionet.org/physiotools/wag/intro.htm

ECGInput zwraca obiekt Signal posiadający trzy własności:
- data - wektor próbek o wartościach typu Float32
- meta - słownik metadanych, tj. częstotl. próbk.
- anno - słownik adnotacji o formacie {nr_próbki => symbol}

Oprócz tego dostępne są metody:
- loadsignal(record, signal=0, time="e") - ładuje sygnał z rekordu bazy PhysioBank o nazwie record (np. "aami-ec13/aami3a") i numerze signal oraz o długości time w sekundach (lub "e" dla pełnej długości sygnału). Więcej o formatach atrybutów pod http://physionet.org/physiotools/wag/intro.htm#record
- opensignal(filename) - otwiera pliki filename_{data,meta,anno}.csv i zwraca obiekt Signal w nich przechowywany
- savesignal(filename, signal) - zapisuje signal do trzech plików filename_{data,meta,anno}.csv
- loadRpeaks(signal) - ładuje punkty R z bazy PhysioBank i zapisuje w słowniku adnotacji
- getgain(signal) - zwraca wzmocnienie sygnału w adu/mV
- getres(signal) - zwraca rozdzielczość próbkowania w bitach (max. wartość próbki to 2^res)
- getfreq(signal) - zwraca częstotliwość próbkowania sygnału w Hz
- getPonset(signal) - zwraca posortowany wektor próbek oznaczonych jako Ponset
- getPend(signal) - zwraca posortowany wektor nrów próbek oznaczonych jako Pend
- getQRSonset(signal) - zwraca posortowany wektor nrów próbek oznaczonych jako QRSonset
- getQRSend(signal) - zwraca posortowany wektor nrów próbek oznaczonych jako QRSend
- getR(signal) - zwraca posortowany wektor nrów próbek oznaczonych jako R
- getRRIntervals(signal) - zwraca wektor interwałów pomiędzy punkami R w sekundach
- setR(signal, w) - zapisuje wektor w punktów R do słownika adnotacji
- setPonset(signal, w) - zapisuje wektor w punktów Ponset do słownika adnotacji
- setPend(signal, w) - zapisuje wektor w punktów Pend do słownika adnotacji
- setQRSonset(signal, w) - zapisuje wektor punktów QRSonset do słownika adnotacji
- setQRSend(signal, w) - zapisuje wektor punktów QRSend do słownika adnotacji

Adnotacje powinny mieć jedną z wartości: "Ponset", "Pend", "QRSonset", "QRSend", "R". Do słownika można łątwo dodawać elementy używając składni: dict[key] = value. Należy pamiętać, że słownik przechowuje nieposortowane klucze, aby je posortować należy wykonać: sort(collect(dict)).

Przykładowe metadane:
	Starting time: not specified
	Length:     0:59.835 (43081 sample intervals)
	Sampling frequency: 720 Hz
	 File: aami3a.dat
	 Description: ECG
	 Gain: 130 adu/mV
	 Initial value: 2072
	 Storage format: 16
	 I/O: can be unbuffered
	 ADC resolution: 12 bits
	 ADC zero: 2048
	 Baseline: 2048
	 Checksum: -11941
